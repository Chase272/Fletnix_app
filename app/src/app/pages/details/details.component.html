<!-- Outer page wrapper -->
<div class="min-h-screen bg-[#141414] text-white p-6 md:p-12">
  <!-- Header -->
  <header class="flex items-center justify-between mb-8 px-2 md:px-8">
    <div class="flex items-center gap-4">
      <div
        class="text-3xl font-black text-[#e50914] tracking-wide cursor-pointer select-none"
        routerLink="/"
      >
        FLETNIX
      </div>
      <div class="hidden md:block text-sm text-white/70 uppercase tracking-wide">
        Show Details
      </div>
    </div>

    <div class="flex items-center gap-4">
      <button
        (click)="goBack()"
        class="bg-[#e50914] px-4 py-2 rounded text-white text-sm hover:bg-[#b00610] transition"
      >
        ← Back
      </button>
    </div>
  </header>

  <!-- Loading / Error -->
  <div *ngIf="loading" class="text-white/80 text-center py-12">Loading details...</div>
  <div
    *ngIf="error && !loading"
    class="bg-[#1b1b1b] p-4 rounded border border-red-600 text-red-300 max-w-2xl mx-auto"
  >
    {{ error }}
  </div>

  <!-- Details content -->
  <div
    *ngIf="!loading && show"
    class="max-w-6xl mx-auto bg-[#1b1b1b]/80 border border-white/10 rounded-2xl p-8 md:p-10 shadow-2xl"
  >
<!-- Title + badges -->
<div class="flex flex-col md:flex-row justify-between gap-6 mb-8">
  <div class="flex-1">
    <!-- Title + Watchlist on same line -->
    <div class="flex items-center justify-between flex-wrap gap-3">
      <h1 class="text-4xl md:text-5xl font-extrabold leading-tight text-white">
        {{ show.title }}
      </h1>

      <!-- Watchlist toggle -->
      <button
        (click)="toggleWatchlist(show)"
        class="flex items-center gap-2 bg-[#e50914] hover:bg-[#b00610] px-4 py-2 rounded text-white text-sm transition whitespace-nowrap"
      >
        <i
          class="fa"
          [ngClass]="isInWatchlist(show) ? 'fa-heart' : 'fa-heart-o'"
          aria-hidden="true"
        ></i>
        <span>{{ isInWatchlist(show) ? 'In Watchlist' : 'Add to Watchlist' }}</span>
      </button>
    </div>

    <!-- Badges row -->
    <div class="mt-3 flex flex-wrap gap-3 items-center text-sm font-medium">
      <span
        class="bg-[#e50914] px-3 py-1 rounded uppercase tracking-wide font-semibold text-white"
      >
        {{ show.type }}
      </span>
      <span
        class="border border-yellow-400/40 bg-yellow-500/20 text-yellow-300 px-3 py-1 rounded"
      >
        {{ show.rating || 'NR' }}
      </span>
      <span class="text-white/70">{{ show.release_year || '—' }}</span>
      <span class="text-white/50">•</span>
      <span class="text-white/70">{{ show.duration || 'Not Available' }}</span>
      <span class="text-white/50">•</span>
      <span class="text-white/70">Added: {{ formattedDate }}</span>
    </div>
  </div>



      <!-- <div class="flex flex-col items-end justify-start">
        <span class="text-white/70 text-xs uppercase font-semibold">Show ID</span>
        <span class="text-white/50 text-xs select-all mt-1">
          {{ show.show_id || show._id || '—' }}
        </span>
      </div> -->
    </div>

    <!-- Description -->
    <section class="mb-10">
      <h2
        class="text-2xl font-bold border-b-2 border-[#e50914] inline-block pb-1 mb-3"
      >
        Overview
      </h2>
      <p class="text-white/90 leading-relaxed text-justify">
        {{ show.description || 'No description available.' }}
      </p>
    </section>

    <!-- Key details grid -->
    <section class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-10">
      <div>
        <p class="text-xs uppercase text-white/50 font-semibold mb-1">Director</p>
        <p class="text-white/90">{{ show.director || 'Not Available' }}</p>
      </div>

      <div>
        <p class="text-xs uppercase text-white/50 font-semibold mb-1">Country</p>
        <p class="text-white/90">{{ show.country || 'Not Available' }}</p>
      </div>

      <div>
        <p class="text-xs uppercase text-white/50 font-semibold mb-1">Release Year</p>
        <p class="text-white/90">{{ show.release_year || 'Not Available' }}</p>
      </div>

      <div>
        <p class="text-xs uppercase text-white/50 font-semibold mb-1">Duration</p>
        <p class="text-white/90">{{ show.duration || 'Not Available' }}</p>
      </div>
    </section>

    <!-- Cast Section -->
    <section class="mb-10" *ngIf="show.cast">
      <h2 class="text-2xl font-bold border-b-2 border-[#e50914] inline-block pb-1 mb-4">
        Cast
      </h2>
      <div class="flex flex-wrap gap-2">
        <ng-container *ngIf="this.show.cast.length; else noCast">
          <div
            *ngFor="let person of this.show.cast"
            class="person-chip bg-[#2a2a2a] hover:bg-[#333] text-white/90 text-sm px-3 py-1 rounded-full border border-white/10 transition"
          >
            {{ person }}
          </div>
        </ng-container>
        <ng-template #noCast>
          <div class="text-white/60 text-sm">No Cast Found</div>
        </ng-template>
      </div>
    </section>

    <!-- Genres Section -->
    <section class="mb-10" *ngIf="show.listed_in">
      <h2 class="text-2xl font-bold border-b-2 border-[#e50914] inline-block pb-1 mb-4">
        Genres
      </h2>
      <div class="flex flex-wrap gap-2">
        <ng-container *ngIf="this.show.listed_in.length; else noGenres">
          <div
            *ngFor="let genre of this.show.listed_in"
            class="genre-chip bg-[#1e1e1e] hover:bg-[#272727] text-[#e5e5e5] text-sm px-3 py-1 rounded-full border border-[#e50914]/30 transition"
          >
            {{ genre }}
          </div>
        </ng-container>
        <ng-template #noGenres>
          <div class="text-white/60 text-sm">No Genres Listed</div>
        </ng-template>
      </div>
    </section>
  </div>
</div>
